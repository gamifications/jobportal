{% extends 'base.html' %}
{% load static %}
{% block css %}
<link rel="stylesheet" type="text/css" href="{% static 'datatables/dataTables.bootstrap4.min.css' %}">
{% endblock %}

{% block content %}

<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item active" aria-current="page">Jobs</li>
  </ol>
</nav>

<table class="table table-bordered" id="joblist">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Position</th>
      <th scope="col">Posted on</th>
      <th scope="col">Keywords</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
  	{% for job in object_list %}
    <tr>
      <th scope="row">{{forloop.counter}}</th>
      <td>{{job.title}}</td>
      <td>{{job.created_at|date:"SHORT_DATE_FORMAT"}}</td>
      <td>{% for keyword in job.keywords.all %}<span style="font-size: 5px">{# keyword.jobkeywords_set.get(job=job).tags.all #}</span>
        <span class="badge badge-info">{{keyword.name}}</span>{% endfor %}</td>
        <td><a href="{% url 'job:edit' job.pk %}" class="btn btn-outline-warning mr-2"><i class="fa fa-pencil-square-o fa-lg"></i></a><a class="btn btn-outline-danger"><i class="fa fa-trash-o fa-lg"></i></a></td>
    </tr>
	   {% endfor %}
</tbody>
</table>
{% endblock %}
{% block js %}
<script src="{% static 'datatables/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'datatables/dataTables.bootstrap4.min.js' %}"></script>
<script type="text/javascript">
$(document).ready(function() {
    $('#joblist').DataTable({
      "pageLength": 10
    });
});
</script>

{% endblock %}